<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ƒêang t·∫£i d·ªØ li·ªáu...</title>
  <style>
    body {
      margin: 0; font-family: sans-serif; background: #f5f5f5; display: flex;
      justify-content: center; align-items: center; height: 100vh; text-align: center;
    }
    .loading {
      font-size: 20px;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="loading">üîÑ ƒêang t·∫£i d·ªØ li·ªáu t·ª´ Google Drive...</div>

  <script>
    const sessionKey = "khoData_" + Math.random().toString(36).substr(2, 8);

    async function fetchKhoData() {
      try {
        const response = await fetch("https://script.google.com/macros/s/AKfycbwA9UhdjgmKvnauaNFC1gooka7utAfBcLHS2SSE0sX1NFH9wbpMTCzWxP9rE3k2MLYjHg/exec");
        const json = await response.json();
        sessionStorage.setItem(sessionKey, JSON.stringify(json));
        window.location.href = `index.html?key=${sessionKey}`;
      } catch (e) {
        document.querySelector('.loading').textContent = "‚ùå L·ªói t·∫£i d·ªØ li·ªáu. Vui l√≤ng th·ª≠ l·∫°i.";
        console.error(e);
      }
    }

    fetchKhoData();
  </script>
</body>
</html>

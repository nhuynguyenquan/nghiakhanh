<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Qu√°n B√°nh B√®o Nh·ª•y Nguy√™n</title>
    <style>
        header {
            background-color: #8c5a3c;
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 24px;
        }
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f1e4;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        .menu-container {
            max-width: 600px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #d35400;
        }
        .menu-item {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid #ddd;
            padding: 10px 0;
        }
        .menu-item:last-child {
            border-bottom: none;
        }
        .price {
            color: #e74c3c;
            font-weight: bold;
        }
        .order-summary {
            margin-top: 20px;
            background-color: #f1c40f;
            padding: 15px;
            border-radius: 8px;
        }
        .order-summary ul {
            list-style-type: none;
            padding: 0;
        }
        .order-summary li {
            padding: 5px 0;
        }
        .order-summary strong {
            color: #8c5a3c;
        }
    </style>
</head>
<body>
    <header>
        <h1><a href="../" style="text-decoration: none; color: white;">NH·ª§Y NGUY√äN QU√ÅN</a></h1>
    </header>
    <div class="menu-container">
        <h1>Menu Qu√°n B√°nh B√®o Nh·ª•y Nguy√™n</h1>
        <div class="menu-item">
            <span>B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt</span>
            <span class="price">20k/ƒëƒ©a</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt t√©p</span>
            <span class="price">25k/ƒëƒ©a</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt t√¥m</span>
            <span class="price">30k/ƒëƒ©a</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o n∆∞·ªõc nh√¢n ƒë·∫≠u xanh th·ªãt</span>
            <span class="price">20k/ƒëƒ©a</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o g√≥i l√° nh√¢n th·ªãt</span>
            <span class="price">20k/10 c√°i</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o g√≥i l√° nh√¢n th·ªãt t√©p</span>
            <span class="price">25k/10 c√°i</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o g√≥i l√° nh√¢n ƒë·∫≠u xanh th·ªãt</span>
            <span class="price">20k/10 c√°i</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o g√≥i l√° nh√¢n th·ªãt t√¥m</span>
            <span class="price">30k/10 c√°i</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o r√°n nh√¢n th·ªãt</span>
            <span class="price">20k/ƒëƒ©a</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o r√°n nh√¢n th·ªãt t√©p</span>
            <span class="price">25k/ƒëƒ©a</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o r√°n nh√¢n ƒë·∫≠u xanh th·ªãt</span>
            <span class="price">20k/ƒëƒ©a</span>
        </div>
        <div class="menu-item">
            <span>B√°nh b√®o r√°n nh√¢n th·ªãt t√¥m</span>
            <span class="price">30k/ƒëƒ©a</span>
        </div>

        <h3>ƒê·∫∑t m√≥n</h3>
        <form id="orderForm">
            <label>Ch·ªçn m√≥n:</label>
            <select id="food" onchange="updatePrice()">
                <option value="B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt" data-price="20000">B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt - 20k</option>
                <option value="B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt t√©p" data-price="25000">B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt t√©p - 25k</option>
                <option value="B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt t√¥m" data-price="30000">B√°nh b√®o n∆∞·ªõc nh√¢n th·ªãt t√¥m - 30k</option>
                <option value="B√°nh b√®o n∆∞·ªõc nh√¢n ƒë·∫≠u xanh th·ªãt" data-price="20000">B√°nh b√®o n∆∞·ªõc nh√¢n ƒë·∫≠u xanh th·ªãt - 20k</option>
                <option value="B√°nh b√®o g√≥i l√° nh√¢n th·ªãt" data-price="20000">B√°nh b√®o g√≥i l√° nh√¢n th·ªãt - 20k/10 c√°i</option>
                <option value="B√°nh b√®o g√≥i l√° nh√¢n th·ªãt t√©p" data-price="25000">B√°nh b√®o g√≥i l√° nh√¢n th·ªãt t√©p - 25k/10 c√°i</option>
                <option value="B√°nh b√®o g√≥i l√° nh√¢n ƒë·∫≠u xanh th·ªãt" data-price="20000">B√°nh b√®o g√≥i l√° nh√¢n ƒë·∫≠u xanh th·ªãt - 20k/10 c√°i</option>
                <option value="B√°nh b√®o g√≥i l√° nh√¢n th·ªãt t√¥m" data-price="30000">B√°nh b√®o g√≥i l√° nh√¢n th·ªãt t√¥m - 30k/10 c√°i</option>
                <option value="B√°nh b√®o r√°n nh√¢n th·ªãt" data-price="20000">B√°nh b√®o r√°n nh√¢n th·ªãt - 20k</option>
                <option value="B√°nh b√®o r√°n nh√¢n th·ªãt t√©p" data-price="25000">B√°nh b√®o r√°n nh√¢n th·ªãt t√©p - 25k</option>
                <option value="B√°nh b√®o r√°n nh√¢n ƒë·∫≠u xanh th·ªãt" data-price="20000">B√°nh b√®o r√°n nh√¢n ƒë·∫≠u xanh th·ªãt - 20k</option>
                <option value="B√°nh b√®o r√°n nh√¢n th·ªãt t√¥m" data-price="30000">B√°nh b√®o r√°n nh√¢n th·ªãt t√¥m - 30k</option>
            </select><br>

            <label>S·ªë l∆∞·ª£ng:</label>
            <input type="number" id="quantity" min="1" value="1"><br>
            <label>Gi√° ti·ªÅn:</label>
            <span id="priceDisplay">20,000 VND</span><br>
            <label>T√™n kh√°ch h√†ng:</label>
            <input type="text" id="name" required><br>

            <label>S·ªë ƒëi·ªán tho·∫°i:</label>
            <input type="text" id="phone" required><br>

            <button type="button" onclick="addToOrder()">Th√™m v√†o gi·ªè</button>
        </form>

        <div id="orderSummary" class="order-summary">
            <h4>Danh s√°ch m√≥n ƒë√£ ƒë·∫∑t</h4>
            <ul id="orderList">
                <!-- C√°c m√≥n s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
            </ul>
            <button type="button" onclick="sendToTelegram()">G·ª≠i ƒë∆°n h√†ng</button>
        </div>
    </div>

    <script>
        let order = [];

        function addToOrder() {
            let food = document.getElementById("food").value;
            let quantity = document.getElementById("quantity").value;
            let price = document.querySelector("#food option:checked").getAttribute("data-price");

            if (food && quantity) {
                // Th√™m m√≥n v√†o gi·ªè h√†ng
                order.push({ food, quantity, price });
                displayOrder();
                document.getElementById("orderForm").reset();
            } else {
                alert("Vui l√≤ng ch·ªçn m√≥n v√† nh·∫≠p s·ªë l∆∞·ª£ng!");
            }
        }


        function displayOrder() {
    let orderList = document.getElementById("orderList");
    orderList.innerHTML = ''; // X√≥a danh s√°ch m√≥n c≈©
    let total = 0; // T·ªïng ti·ªÅn cho t·∫•t c·∫£ c√°c m√≥n

    // Duy·ªát qua c√°c m√≥n trong gi·ªè h√†ng v√† hi·ªÉn th·ªã th√¥ng tin
    order.forEach(item => {
        let li = document.createElement('li');
        let itemTotalPrice = item.price * item.quantity; // T√≠nh t·ªïng ti·ªÅn cho m√≥n

        // Hi·ªÉn th·ªã t√™n m√≥n, s·ªë l∆∞·ª£ng v√† gi√°
        li.textContent = `${item.food} - S·ªë l∆∞·ª£ng: ${item.quantity} - Gi√°: ${itemTotalPrice.toLocaleString("vi-VN")} VND`;

        orderList.appendChild(li);

        // C·ªông d·ªìn v√†o t·ªïng ti·ªÅn
        total += itemTotalPrice;
    });

    // Hi·ªÉn th·ªã t·ªïng ti·ªÅn
    let totalPrice = document.getElementById("totalPrice");
    totalPrice.innerText = `T·ªïng ti·ªÅn: ${total.toLocaleString("vi-VN")} VND`;
}
        // 
        document.getElementById("name").addEventListener("input", function() {
            localStorage.setItem("customer_name", this.value);
        });
        document.getElementById("phone").addEventListener("input", function() {
            localStorage.setItem("customer_phone", this.value);
        });

        //
        window.onload = function() {
            document.getElementById("name").value = localStorage.getItem("customer_name") || "";
            document.getElementById("phone").value = localStorage.getItem("customer_phone") || "";
        };

        function sendToTelegram() {
    let name = document.getElementById("name").value;
    let phone = document.getElementById("phone").value;

    if (!name || !phone) {
        alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
        return;
    }

    let message = `üìå ƒê∆°n h√†ng m·ªõi:\nüë§ Kh√°ch h√†ng: ${name}\nüìû SƒêT: ${phone}\n\nM√≥n ƒë√£ ƒë·∫∑t:\n`;

    order.forEach(item => {
        message += `üçΩÔ∏è M√≥n: ${item.food}\nüî¢ S·ªë l∆∞·ª£ng: ${item.quantity}\n`;
    });

    let botToken = "7783089403:AAGNpG6GsdlF7VXVfPTW8Y1xQJEqBahL1PY";  
    let chatID = "6249154937"; 

    let url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatID}&text=${encodeURIComponent(message)}`;

    fetch(url).then(response => {
        if (response.ok) {
            alert("‚úÖ ƒê∆°n h√†ng ƒë√£ g·ª≠i!");
            document.getElementById("orderForm").reset();
            order = [];  // X√≥a gi·ªè h√†ng sau khi g·ª≠i
            displayOrder();

            // X√≥a th√¥ng tin kh√°ch h√†ng trong localStorage
            localStorage.removeItem("customer_name");
            localStorage.removeItem("customer_phone");
        } else {
            alert("‚ùå G·ª≠i th·∫•t b·∫°i, vui l√≤ng th·ª≠ l·∫°i!");
        }
    });
}
function updatePrice() {
    let selectedFood = document.getElementById("food").selectedOptions[0];
    let price = selectedFood.getAttribute("data-price");
    let quantity = document.getElementById("quantity").value;

    let totalPrice = price * quantity;
    document.getElementById("priceDisplay").innerText = totalPrice.toLocaleString("vi-VN") + " VND";
}
    </script>
</body>
</html>

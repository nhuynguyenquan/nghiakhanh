<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Qu√°n B√°nh B√®o Nh·ª•y Nguy√™n</title>
    <style>
	header {
            background-color: #8c5a3c;
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 24px;
        }
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f1e4;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        .menu-container {
            max-width: 600px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #d35400;
        }
        .menu-item {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid #ddd;
            padding: 10px 0;
        }
        .menu-item:last-child {
            border-bottom: none;
        }
        .price {
            color: #e74c3c;
            font-weight: bold;
        }
    </style>
</head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WGYWXSKNTW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WGYWXSKNTW');
</script>
<body>
    <header>
        <h1><a href="../" style="text-decoration: none; color: white;">NH·ª§Y NGUY√äN QU√ÅN</a></h1>
    </header>
    <div class="menu-container">
        <h1>Trang ƒê√°nh Gi√° B√°nh B√®o Nh·ª•y Nguy√™n</h1>
        <h2>‚ú® ƒê√°nh gi√° qu√°n Nh·ª•y Nguy√™n</h2>
  <form id="feedback-form">
    <label for="name">T√™n c·ªßa b·∫°n:</label>
    <input type="text" id="name" required>

    <label for="rating">ƒê√°nh gi√° (1 - 5 sao):</label>
    <select id="rating" required>
      <option value="">Ch·ªçn s·ªë sao</option>
      <option>5</option>
      <option>4</option>
      <option>3</option>
      <option>2</option>
      <option>1</option>
    </select>

    <label for="comment">G√≥p √Ω:</label>
    <textarea id="comment" rows="4" required></textarea>

    <button type="submit">G·ª≠i ƒë√°nh gi√°</button>
  </form>

  <p id="result" style="margin-top: 20px; color: green;"></p>

  <script>
    const form = document.getElementById('feedback-form');
    const result = document.getElementById('result');
    const API_URL = 'https://script.google.com/macros/s/AKfycbyfdUxiY37IrjKIGS8jMsgrF-j5dATqEYvxSaFG2q8CC4qtiR3RTAHSRfUBw_cWW8DPrA/exec';
    const TELEGRAM_TOKEN = '7783089403:AAGNpG6GsdlF7VXVfPTW8Y1xQJEqBahL1PY';  
    const TELEGRAM_CHAT_ID = '6249154937';  
  
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
  
      const data = {
        name: document.getElementById('name').value,
        rating: document.getElementById('rating').value,
        comment: document.getElementById('comment').value,
        date: new Date().toISOString()
      };
  
      try {
        // G·ª≠i tin nh·∫Øn Telegram
        const message = `üì¢ ƒê√°nh gi√° m·ªõi t·ª´ kh√°ch h√†ng:\n\nüë§ T√™n: ${data.name}\n‚≠ê ƒê√°nh gi√°: ${data.rating}\nüìù G√≥p √Ω: ${data.comment}`;
        await sendTelegram(message);
  
        result.textContent = "‚úÖ C·∫£m ∆°n b·∫°n ƒë√£ ƒë√°nh gi√°!";
        form.reset();
      } catch (error) {
        result.textContent = "‚ùå G·ª≠i kh√¥ng th√†nh c√¥ng.";
        console.error(error);
      }
    });
  
    async function sendTelegram(message) {
      const url = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`;
      const payload = {
        chat_id: TELEGRAM_CHAT_ID,
        text: message,
        parse_mode: 'HTML'
      };
  
      try {
        const response = await fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        const data = await response.json();
        if (data.ok) {
          console.log('‚úÖ ƒê√£ g·ª≠i tin nh·∫Øn Telegram');
        } else {
          console.error('‚ùå L·ªói khi g·ª≠i tin nh·∫Øn Telegram:', data.description);
        }
      } catch (error) {
        console.error('‚ùå L·ªói khi g·ª≠i tin nh·∫Øn Telegram:', error);
      }
    }
  </script>
</body>
</html>
